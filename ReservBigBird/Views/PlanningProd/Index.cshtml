
@{
    ViewBag.Title = "Index";
}

<script src="~/Content/bower_components/jquery/dist/jquery.min.js"></script>
<script src="~/Content/js/sweetalert.min.js"></script>




<section class="content-header">
    <h1>
        Display Planning
        <small></small>
    </h1>
    <ol class="breadcrumb">
        <li>Display Planning</li>
        <li class="active">Index</li>
    </ol>
    <br />

</section>

<section class="content container-fluid">
    <div class="row">
        <div class="col-xs-12">

            <!--  --------------------- Task Header --------------------------- -->
            <div class="box">
                <div class="box-header">
                    <h3 class="box-title"></h3>
                </div>
                <!-- /.box-header -->
                <div class="box-body">
                    <form id="Form1">
                        <div class="row form-border">
                            <div asp-validation-summary="ModelOnly" class="text-danger"></div>
                            <div class="form-group">

                                <div class="col-sm-6">


                                    <div class="row">
                                        <div class="col-sm-4">
                                            <b>No Order</b>
                                        </div>
                                        <div class="col-sm-8">
                                            <input type="text" name="NoOrder" id="NoOrder" class="form-control" />
                                        </div>
                                    </div>
                                    @*<span asp-validation-for="Item1.TaskCode" class="text-danger"></span>*@
                                    <br />

                                    <div class="row">
                                        <div class="col-sm-4">
                                            <b>Nama Pemakai</b>
                                        </div>
                                        <div class="col-sm-8">
                                            <input type="text" name="NamaPemakai" id="NamaPemakai" class="form-control" />
                                        </div>
                                    </div>
                                    @*<span asp-validation-for="Item1.TaskCode" class="text-danger"></span>*@
                                    <br />
                                </div>

                                <div class="col-sm-6">



                                    <div class="row">
                                        <div class="col-sm-4">
                                            <b>Nama Pemesan</b>
                                        </div>
                                        <div class="col-sm-8">
                                            <input type="text" name="NamaPemesan" id="NamaPemesan" class="form-control" />
                                        </div>
                                    </div>
                                    @*<span asp-validation-for="Item1.TaskCode" class="text-danger"></span>*@
                                    <br />

                                    <div class="row">
                                        <div class="col-sm-4">
                                            <b>POOL</b>
                                        </div>
                                        <div class="col-sm-8">
                                            <input type="text" name="Pool" id="Pool" class="form-control" />
                                        </div>
                                    </div>
                                    @*<span asp-validation-for="Item1.TaskCode" class="text-danger"></span>*@
                                    <br />

                                    <div class="row">
                                        <div class="col-sm-4">

                                        </div>
                                        <div class="col-sm-8">
                                            @*<button type="button" class="btn btn-primary btn-md">Cari</button>&nbsp;*@
                                            <input type="button" class="btn btn-primary btn-md" value="CARI" id="submit" />&nbsp;
                                            <button type="button" class="btn btn-danger btn-md">Clear</button>
                                        </div>
                                    </div>
                                    @*<span asp-validation-for="Item1.TaskCode" class="text-danger"></span>*@
                                    <br />

                                </div>
                            </div>
                        </div>
                    </form>
                </div>
                <!-- /.box-body -->
            </div>

            <!-- ---------------------- Task Lines --------------------------- -->
            <div class="box">
                <div class="box-header">
                    <h3 class="box-title">Data Table With Full Features</h3>
                </div>
                <!-- /.box-header -->
                <div class="box-body">
                    <div class="table-responsive">
                        <table id="example1" class="table table-bordered table-striped">
                            <thead>
                                <tr>
                                    <th>No Detail</th>
                                    <th>No Order</th>
                                    <th>Tgl Pakai</th>
                                    <th>Jam Jemput</th>
                                    <th>BUS</th>
                                    <th>NIP1</th>
                                    <th>HP</th>
                                    <td>Aksi</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td class="nr1">1</td>
                                    @*<a href="#" data-toggle="modal" data-target=".bd-example-modal-lg">
                                            1
                                        </a>*@
                                    @*<a class="btn btn-default testnu">1</a>*@

                                    <td class="nr2">Order1</td>
                                    <td class="nr3">8/4/2019</td>
                                    <td class="nr4">12:25 AM</td>
                                    <td>BUS 1</td>
                                    <td>Agus</td>
                                    <td>082112213454</td>
                                    <td>  <button type="button" class="use-address">Click Me</button></td>
                                </tr>
                                <tr>
                                    <td class="nr1">2</td>
                                    @*<a href="#" data-toggle="modal" data-target=".bd-example-modal-lg">
                                            2
                                        </a>*@
                                    @*<a class="btn btn-default testnu">2</a>*@
                                    <td class="nr2">Order2</td>
                                    <td class="nr3">9/4/2019</td>
                                    <td class="nr4">13:25 AM</td>
                                    <td>BUS 2</td>
                                    <td>Jani</td>
                                    <td>182112213454</td>
                                    <td>  <button type="button" class="use-address">Click Me</button></td>
                                </tr>
                            </tbody>
                        </table>
                    </div>

                </div>

            </div>
            <div id="renderTable" class="box">
                @Html.Partial("_TableDisplayPlanning")
            </div>

            <div class="box">
                <div class="box-header">
                    <h3 class="box-title"> Hasil Table dari javascript </h3>

                </div>
                <!-- /.box-header -->
                <div class="box-body">
                    <div class="table-responsive">
                        <table id="TableMasuk" class="table table-bordered table-striped">
                            <thead>
                                <tr>
                                    <th>Kolom 1</th>
                                    <th>Kolom 2</th>
                                    <th>Kolom 3</th>
                                </tr>
                            </thead>
                            <tbody id="tblAppendHere"></tbody>
                        </table>
                    </div>

                </div>

            </div>

        </div>
    </div>
</section>

<!-- L A R G E  M O D A L -->
<div id="myModal13" class="modal fade bd-example-modal-lg" tabindex="-1" role="dialog" aria-labelledby="myLargeModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">

            <div class="modal-header">
                <h3 class="modal-title">Display Planning Order</h3>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>

            <div class="modal-body">

                <form asp-action="CreateTaskLine">
                    <div class="row form-border">
                        <div asp-validation-summary="ModelOnly" class="text-danger"></div>
                        <div class="form-group">

                            <div class="col-sm-12">



                                <div class="row">
                                    <div class="col-sm-2">
                                        <b>No Order</b>
                                    </div>
                                    <div class="col-sm-4">
                                        <input type="text" class="form-control" id="ModalNoOrder">
                                    </div>
                                    <div class="col-sm-2">
                                        <b>Nama Pemesan</b>
                                    </div>
                                    <div class="col-sm-4">
                                        <input type="text" class="form-control" asp-for="TaskCode">
                                    </div>
                                </div>
                                <br />

                                <div class="row">
                                    <div class="col-sm-2">
                                        <b>No Detail</b>
                                    </div>
                                    <div class="col-sm-4">
                                        <input type="text" class="form-control" asp-for="TaskCode">
                                    </div>
                                    <div class="col-sm-2">
                                        <b>POOL</b>
                                    </div>
                                    <div class="col-sm-4">
                                        <input type="text" class="form-control" asp-for="TaskCode">
                                    </div>
                                </div>
                                <br />

                                <div class="row">
                                    <div class="col-sm-2">
                                        <b>Tgl Pakai</b>
                                    </div>
                                    <div class="col-sm-4">
                                        <input type="text" class="form-control" id="ModalTglPakai">
                                    </div>
                                    <div class="col-sm-2">

                                    </div>
                                    <div class="col-sm-4">

                                    </div>
                                </div>
                                <br />

                                <div class="row">
                                    <div class="col-sm-2">
                                        <b>Jam Jemput</b>
                                    </div>
                                    <div class="col-sm-4">
                                        <input type="text" class="form-control" id="ModalJamJemput">
                                    </div>
                                    <div class="col-sm-2">

                                    </div>
                                    <div class="col-sm-4">

                                    </div>
                                </div>
                                <br />

                                <div class="row">
                                    <div class="col-sm-2">
                                        <b>Kel Tujuan</b>
                                    </div>
                                    <div class="col-sm-4">
                                        <input type="text" class="form-control" asp-for="TaskCode">
                                    </div>
                                    <div class="col-sm-2">

                                    </div>
                                    <div class="col-sm-4">

                                    </div>

                                </div>
                                <br />

                                <div class="row">

                                    <div class="col-sm-2">
                                        <b>Tujuan</b>
                                    </div>
                                    <div class="col-sm-4">
                                        <input type="text" class="form-control" asp-for="TaskCode">
                                    </div>
                                    <div class="col-sm-2">

                                    </div>
                                    <div class="col-sm-4">

                                    </div>
                                </div>
                                <br />

                                <div class="row">
                                    <div class="col-sm-2">
                                        <b>Alamat</b>
                                    </div>
                                    <div class="col-sm-10">
                                        <textarea asp-for="Address" class="form-control" rows="2"></textarea>
                                    </div>
                                </div>
                                <br />

                                <div class="row">
                                    <div class="col-sm-2">
                                        <b>Bus</b>
                                    </div>
                                    <div class="col-sm-10">
                                        <div class="col-sm-4">
                                            <input type="text" class="form-control" asp-for="TaskCode" placeholder="Jenis Bus">
                                        </div>

                                        <div class="col-sm-4">
                                            <input type="text" class="form-control" asp-for="TaskCode" placeholder="No Body">
                                        </div>

                                        <div class="col-sm-4">
                                            <input type="text" class="form-control" asp-for="TaskCode" placeholder="No Pol">
                                        </div>

                                    </div>
                                </div>
                                <br />

                                <div class="row">
                                    <div class="col-sm-2">
                                        <b>NIP 1</b>
                                    </div>
                                    <div class="col-sm-10">
                                        <div class="col-sm-6">
                                            <input type="text" class="form-control" asp-for="TaskCode" placeholder="Nama">
                                        </div>

                                        <div class="col-sm-6">
                                            <input type="text" class="form-control" asp-for="TaskCode" placeholder="HP">
                                        </div>

                                    </div>
                                </div>
                                <br />

                                <div class="row">
                                    <div class="col-sm-2">
                                        <b>NIP 1</b>
                                    </div>
                                    <div class="col-sm-10">
                                        <div class="col-sm-6">
                                            <input type="text" class="form-control" asp-for="TaskCode" placeholder="Nama">
                                        </div>

                                        <div class="col-sm-6">
                                            <input type="text" class="form-control" asp-for="TaskCode" placeholder="HP">
                                        </div>

                                    </div>
                                </div>
                                <br />

                                <div class="row">
                                    <div class="col-sm-2">

                                    </div>
                                    <div class="col-sm-10">
                                        <div class="col-sm-4">

                                        </div>

                                        <div class="col-sm-4">

                                        </div>

                                        <div class="col-sm-4">
                                            @*<button type="submit" class="btn btn-success btn-lg">
                                                    Simpan
                                                </button>
                                                &nbsp;&nbsp;&nbsp;&nbsp;
                                                <button type="submit" class="btn btn-danger btn-lg">
                                                    Batal
                                                </button>*@
                                        </div>

                                    </div>
                                </div>
                                <br />



                            </div>


                        </div>
                    </div>
                </form>


            </div>

            <div class="modal-footer">
                <button type="button" class="btn btn-danger btn-lg" data-dismiss="modal">Batal</button>
                <button type="button" class="btn btn-primary btn-lg">Simpan</button>
            </div>
        </div>
    </div>
</div>


<script>
    $(function () {
        $('#example1').DataTable()
        $('#example2').DataTable({
            'paging': true,
            'lengthChange': false,
            'searching': false,
            'ordering': true,
            'info': true,
            'autoWidth': false
        })
    })
</script>
<script>

    $(document).ready(function () {
        $('#submit').on('click', function () {
            var tesnu = $('#Form1').serialize();

            var count = 0;
            var a1 = document.getElementById("NoOrder").value; var b1 = tesnu.NamaPemakai; var c1 = tesnu.NamaPemesan; var d1 = tesnu.Pool;
            //console.log(a1);
            if (document.getElementById("NoOrder").value == "") { count = count + 1 }
            if (document.getElementById("NamaPemakai").value == "") { count = count + 1 }
            if (document.getElementById("NamaPemesan").value == "") { count = count + 1 }
            if (document.getElementById("Pool").value == "") { count = count + 1 }
            console.log(count);

            console.log(tesnu);
            if (count < 4) {
                $('#renderTable').load("_TableDisplayPlanning", $('#Form1').serialize());
            }
            else {
                swal("Perhatikan Kolom", "Silahkan Isi Salah Satu Kolom di Form Tersebut", "warning");
            }

        });
    });

</script>

<style>
    #renderTable {
        background-color: white;
    }
</style>
<script type="text/javascript">
    document.getElementsByName('example2').onclick = function (event) {
        event = event || window.event;
        var target = event.target || event.srcElement;
        while (target && target.nodeName != 'TR') {
            target = target.parentElement;
        }
        var cells = target.cells;
        console.log(cells);
        $(function () {

            alert(cells[1].innerHTML);

            var list = [];
            list.push(cells[1].innerHTML, cells[2].innerHTML, cells[3].innerHTML);
            console.log(list);

            $('#ModalNoOrder').val($.trim(cells[1].innerHTML));
            $('#ModalTglPakai').val($.trim(cells[2].innerHTML));
            $('#ModalJamJemput').val($.trim(cells[3].innerHTML));
            var aa = cells[1].innerHTML;
            console.log(aa);
            document.getElementById("ModalNoOrder").value = cells[1].innerHTML;

            $('#myModal13').modal('toggle');

        });



    }

</script>
<script type="text/javascript">
    $(".use-address").click(function () {
        try {
            document.getElementById("TableMasuk").deleteRow(1);

            var $row = $(this).closest("tr");
            var $text = $row.find(".nr1").text(); // Find the text
            var $text2 = $row.find(".nr2").text();
            var $text3 = $row.find(".nr3").text();
            var $text4 = $row.find(".nr4").text();
            // Let's test it out

            var list = [];
            list.push($text, $text2, $text3, $text4);
            console.log(list);

            var $table = $('#tblAppendHere');
            $table.append(
                '<tr>' +

                '<td>' + $text + '</td>' +
                '<td>' + $text2 + '</td>' +
                '<td>' + $text3 + '</td>'

                + '</tr>'
            )

            alert($text + "," + $text2 + "," + $text3 + "," + $text4);
        }
        catch{

            var $row = $(this).closest("tr");
            var $text = $row.find(".nr1").text(); // Find the text
            var $text2 = $row.find(".nr2").text();
            var $text3 = $row.find(".nr3").text();
            var $text4 = $row.find(".nr4").text();
            // Let's test it out

            var list = [];
            list.push($text, $text2, $text3, $text4);
            console.log(list);

            var $table = $('#tblAppendHere');
            $table.append(
                '<tr>' +

                '<td>' + $text + '</td>' +
                '<td>' + $text2 + '</td>' +
                '<td>' + $text3 + '</td>'

                + '</tr>'
            )

            alert($text + "," + $text2 + "," + $text3 + "," + $text4);
        }



    });
</script>